public class PagedResult {

    public String cacheId;
    public String tab;

    public int page;
    public int pageSize;
    public int totalRows;

    public List<RowDiffDTO> rows;

    public DiffSummaryDTO summary;

    public PagedResult(String cacheId,
                       String tab,
                       int page,
                       int pageSize,
                       int totalRows,
                       List<RowDiffDTO> rows,
                       DiffSummaryDTO summary) {

        this.cacheId = cacheId;
        this.tab = tab;
        this.page = page;
        this.pageSize = pageSize;
        this.totalRows = totalRows;
        this.rows = rows;
        this.summary = summary;
    }
}





==================================================
private static final int PAGE_SIZE = 1000;

public PagedResult getPagedResult(
        String cacheId,
        String tab,
        int page) {

    TableDiffResponseDTO diff = cache.get(cacheId).data;

    List<RowDiffDTO> source;

    switch (tab) {
        case "modified":
            source = diff.modifiedRows;
            break;
        case "test":
            source = diff.onlyInTestRows;
            break;
        case "prod":
            source = diff.onlyInProdRows;
            break;
        default:
            throw new RuntimeException("Invalid tab");
    }

    int start = page * PAGE_SIZE;
    int end = Math.min(start + PAGE_SIZE, source.size());

    List<RowDiffDTO> slice =
            start >= source.size()
                    ? List.of()
                    : source.subList(start, end);

    return new PagedResult(
            cacheId,
            tab,
            page,
            PAGE_SIZE,
            source.size(),
            slice,
            diff.summary
    );
}


  ===================================

      @GetMapping("/result")
public String result(
        String cacheId,
        @RequestParam(defaultValue = "modified") String tab,
        @RequestParam(defaultValue = "0") int page,
        Model model) {

    PagedResult data =
            service.getPagedResult(cacheId, tab, page);

    model.addAttribute("data", data);
    model.addAttribute("request", new CompareRequest());

    return "db-compare";
}
